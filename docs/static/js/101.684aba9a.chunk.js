(self.webpackChunkeikcalb_dev=self.webpackChunkeikcalb_dev||[]).push([[101],{9307:function(e,n,t){"use strict";t.r(n),t.d(n,{EasterEgg:function(){return v}});var r=t(4165),c=t(5861),a=t(885),o=t(2391),s=t(4097),u=t(4403),i=t(2791),l=t(9361),d=t(184),p={fall:{fall0:"".concat("","/asset/raccoon/ko/ko0000.png"),fall1:"".concat("","/asset/raccoon/ko/ko0002.png"),fall2:"".concat("","/asset/raccoon/ko/ko0004.png"),fall3:"".concat("","/asset/raccoon/ko/ko0006.png"),fall4:"".concat("","/asset/raccoon/ko/ko0008.png"),fall5:"".concat("","/asset/raccoon/ko/ko0010.png"),fall6:"".concat("","/asset/raccoon/ko/ko0012.png"),fall7:"".concat("","/asset/raccoon/ko/ko0014.png"),fall8:"".concat("","/asset/raccoon/ko/ko0016.png"),fall9:"".concat("","/asset/raccoon/ko/ko0018.png")},idle:{idle0:"".concat("","/asset/raccoon/idle/0001.png"),idle1:"".concat("","/asset/raccoon/idle/0003.png"),idle2:"".concat("","/asset/raccoon/idle/0005.png"),idle3:"".concat("","/asset/raccoon/idle/0007.png"),idle4:"".concat("","/asset/raccoon/idle/0009.png"),idle5:"".concat("","/asset/raccoon/idle/0011.png"),idle6:"".concat("","/asset/raccoon/idle/0013.png"),idle7:"".concat("","/asset/raccoon/idle/0015.png"),idle8:"".concat("","/asset/raccoon/idle/0017.png"),idle9:"".concat("","/asset/raccoon/idle/0019.png"),idle10:"".concat("","/asset/raccoon/idle/0021.png")},dance:{dance0:"".concat("","/asset/raccoon/victory-dance/victory-dance0001.png"),dance1:"".concat("","/asset/raccoon/victory-dance/victory-dance0003.png"),dance2:"".concat("","/asset/raccoon/victory-dance/victory-dance0005.png"),dance3:"".concat("","/asset/raccoon/victory-dance/victory-dance0007.png"),dance4:"".concat("","/asset/raccoon/victory-dance/victory-dance0009.png"),dance5:"".concat("","/asset/raccoon/victory-dance/victory-dance0011.png"),dance6:"".concat("","/asset/raccoon/victory-dance/victory-dance0013.png"),dance7:"".concat("","/asset/raccoon/victory-dance/victory-dance0015.png"),dance8:"".concat("","/asset/raccoon/victory-dance/victory-dance0017.png"),dance9:"".concat("","/asset/raccoon/victory-dance/victory-dance0019.png"),dance10:"".concat("","/asset/raccoon/victory-dance/victory-dance0021.png"),dance11:"".concat("","/asset/raccoon/victory-dance/victory-dance0023.png"),dance12:"".concat("","/asset/raccoon/victory-dance/victory-dance0025.png"),dance13:"".concat("","/asset/raccoon/victory-dance/victory-dance0027.png")},run:{run0:"".concat("","/asset/raccoon/run/run0001.png"),run1:"".concat("","/asset/raccoon/run/run0003.png"),run2:"".concat("","/asset/raccoon/run/run0005.png"),run3:"".concat("","/asset/raccoon/run/run0007.png"),run4:"".concat("","/asset/raccoon/run/run0009.png"),run5:"".concat("","/asset/raccoon/run/run0011.png"),run6:"".concat("","/asset/raccoon/run/run0013.png"),run7:"".concat("","/asset/raccoon/run/run0015.png"),run8:"".concat("","/asset/raccoon/run/run0017.png"),run9:"".concat("","/asset/raccoon/run/run0019.png"),run10:"".concat("","/asset/raccoon/run/run0021.png"),run11:"".concat("","/asset/raccoon/run/run0023.png")},walk:{walk0:"".concat("","/asset/raccoon/walk/walk0001.png"),walk1:"".concat("","/asset/raccoon/walk/walk0003.png"),walk2:"".concat("","/asset/raccoon/walk/walk0005.png"),walk3:"".concat("","/asset/raccoon/walk/walk0007.png"),walk4:"".concat("","/asset/raccoon/walk/walk0009.png"),walk5:"".concat("","/asset/raccoon/walk/walk0011.png"),walk6:"".concat("","/asset/raccoon/walk/walk0013.png"),walk7:"".concat("","/asset/raccoon/walk/walk0015.png"),walk8:"".concat("","/asset/raccoon/walk/walk0017.png"),walk9:"".concat("","/asset/raccoon/walk/walk0019.png"),walk10:"".concat("","/asset/raccoon/walk/walk0021.png")}};u.deM.addBundle("dance",p.dance),u.deM.addBundle("fall",p.fall),u.deM.addBundle("idle",p.idle),u.deM.addBundle("run",p.run),u.deM.addBundle("walk",p.walk);var g=new s.Manager(document.body),k=.32*Math.min(t.g.innerWidth/800,t.g.innerHeight/800),v=function(e){var n=(0,i.useContext)(l.T),p=(0,i.useRef)(),v=(0,i.useRef)(),f=(0,i.useRef)(),w=(0,i.useRef)(),h=(0,i.useRef)(),x=(0,i.useRef)(),y=(0,i.useRef)(),m=(0,i.useRef)({setup:!1,status:"",nextStatus:"",direction:1,count:0,lastStateChangeSince:0}),b=(0,i.useRef)(),M=(0,i.useRef)(!1),S=(0,i.useReducer)((function(e){return!e}),!1),E=(0,a.Z)(S,2),B=E[0],C=E[1],R=function(){"running"===m.current.status&&m.current.lastStateChangeSince>=600?m.current.nextStatus=["walk","idle"][Math.floor(10*Math.random())%2]:m.current.lastStateChangeSince>=1200&&(m.current.nextStatus="running")},A=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.deM.loadBundle("dance");case 3:return h.current=e.sent,e.next=6,u.deM.loadBundle("fall");case 6:return f.current=e.sent,e.next=9,u.deM.loadBundle("run");case 9:return w.current=e.sent,e.next=12,u.deM.loadBundle("idle");case 12:return x.current=e.sent,e.next=15,u.deM.loadBundle("walk");case 15:y.current=e.sent,m.current.status="",m.current.nextStatus="running",m.current.sprite=new u.KgH(Object.values(w.current)),m.current.sprite.x=100,m.current.sprite.y=t.g.innerHeight/2,m.current.sprite.cursor="pointer",m.current.sprite.scale.set(k),m.current.sprite.anchor.set(.5),m.current.sprite.eventMode="static",m.current.sprite.play(),m.current.sprite.on("pointertap",(function(){var e=m.current.status;m.current.nextStatus="running"===e?m.current.count>=1?"dance":"fall":"running"})),b.current.stage.addChild(m.current.sprite),b.current.ticker.add(j),m.current.setup=!0,console.log("Successfully loaded assets!"),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),console.log("Failed to load assets!",e.t0),C(!1);case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(){return e.apply(this,arguments)}}(),j=function(e){var n=m.current,r=n.nextStatus,c=n.status;if(m.current.lastStateChangeSince++,c||r){if(c!==r){switch(r){case"dance":m.current.count=0,m.current.sprite.textures=Object.values(h.current),m.current.sprite.gotoAndPlay(0),m.current.sprite.animationSpeed=.28,m.current.sprite.loop=!0;break;case"fall":m.current.count++,m.current.sprite.textures=Object.values(f.current),m.current.sprite.gotoAndPlay(0),m.current.sprite.animationSpeed=.12,m.current.sprite.loop=!1;break;case"idle":m.current.sprite.textures=Object.values(x.current),m.current.sprite.gotoAndPlay(0),m.current.sprite.animationSpeed=.1,m.current.sprite.loop=!0;break;case"walk":m.current.sprite.textures=Object.values(y.current),m.current.sprite.gotoAndPlay(0),m.current.sprite.animationSpeed=.2,m.current.sprite.loop=!0;break;default:m.current.sprite.textures=Object.values(w.current),m.current.sprite.gotoAndPlay(0),m.current.sprite.animationSpeed=.4,m.current.sprite.loop=!0}m.current.status=r,m.current.lastStateChangeSince=0}else{var a=e*m.current.direction;switch(c){case"dance":m.current.sprite.x<20?(m.current.sprite.x=20,m.current.direction=1,m.current.sprite.scale.x=Math.abs(m.current.sprite.scale.x)):m.current.sprite.x>t.g.innerWidth-20&&(m.current.sprite.x=t.g.innerWidth-20,m.current.direction=-1,m.current.sprite.scale.x=-Math.abs(m.current.sprite.scale.x)),m.current.sprite.x+=.2*a;break;case"fall":break;case"idle":R();break;case"walk":m.current.sprite.x<20?(m.current.sprite.x=20,m.current.direction=1,m.current.sprite.scale.x=Math.abs(m.current.sprite.scale.x)):m.current.sprite.x>t.g.innerWidth-20&&(m.current.sprite.x=t.g.innerWidth-20,m.current.direction=-1,m.current.sprite.scale.x=-Math.abs(m.current.sprite.scale.x)),m.current.sprite.x+=.8*a,R();break;default:m.current.sprite.x<20?(m.current.sprite.x=20,m.current.direction=1,m.current.sprite.scale.x=Math.abs(m.current.sprite.scale.x)):m.current.sprite.x>t.g.innerWidth-20&&(m.current.sprite.x=t.g.innerWidth-20,m.current.direction=-1,m.current.sprite.scale.x=-Math.abs(m.current.sprite.scale.x)),m.current.sprite.x+=2*a,R()}}b.current.render()}},P=(0,i.useCallback)((function(e){var n=e.accelerationIncludingGravity;Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)+Math.pow(n.z,2))>10&&(B||C(!0),m.current.sprite&&B&&(m.current.nextStatus="fall"))}),[B]),_=(0,i.useCallback)((function(){"DeviceMotionEvent"in window&&(DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(e){"granted"===e&&(t.g.addEventListener("devicemotion",P),M.current=!0)})).catch((function(e){console.log("Error requesting permission:",e)})):(t.g.addEventListener("devicemotion",P),M.current=!0))}),[P]);return(0,i.useEffect)((function(){return b.current||(b.current=new u.MxU({autoDensity:!0,backgroundAlpha:0,resizeTo:t.g.window,resolution:2*t.g.devicePixelRatio,height:t.g.innerHeight,width:t.g.innerWidth,sharedTicker:!0}),A()),g.add(new s.Tap({event:"quadrupletap",taps:4})),g.on("quadrupletap",(function(){console.log("\ud83c\udff3\ufe0f Quadriple click activated!"),C(!B)})),_(),function(){t.g.removeEventListener("devicemotion",P),M.current=!1,g.off("quadrupletap")}}),[]),(0,i.useEffect)((function(){B&&(0,o.Kz)(n.fBaseAnalytics,"screen_view")}),[n.fBaseAnalytics,B]),(0,i.useEffect)((function(){if(v.current&&b.current){var e=v.current.contains(b.current.view);return B?(!p.current||p.current.readyState<HTMLMediaElement.HAVE_FUTURE_DATA?p.current.addEventListener("canplay",(function(){p.current.controls=!1,p.current.loop=!0,p.current.volume=.5,p.current.play()})):(p.current.controls=!1,p.current.loop=!0,p.current.muted=!1,p.current.volume=.5,p.current.play()),e||(b.current.ticker.minFPS=50,b.current.ticker.start(),v.current.classList.remove("hidden"),v.current.appendChild(b.current.view))):(p.current&&!p.current.paused&&p.current.pause(),b.current.ticker.stop(),v.current.classList.add("hidden"),e&&v.current.removeChild(b.current.view)),M.current||_(),function(){t.g.removeEventListener("devicemotion",P),M.current=!1}}}),[B,P,b,_]),(0,d.jsxs)("div",{children:[e.children,(0,d.jsxs)("audio",{muted:!1,autoPlay:!1,className:"hidden",ref:p,controls:!1,children:[(0,d.jsx)("source",{src:"".concat("","/asset/background.mp3"),type:"audio/mp3"}),"Your browser does not support the audio element."]}),(0,d.jsx)("div",{className:"animate__animated animate__heartBeat absolute h-full w-full top-0 hidden",ref:v})]})};n.default=v},4654:function(){}}]);
//# sourceMappingURL=101.684aba9a.chunk.js.map